<!DOCTYPE html>
<html>

<head>
	<script>
		function usersComparator(userA, userB) {
			if (userA.active !== userB.active) {
				return userA.active - userB.active;
			}
			if (userA.registrationDate !== userB.registrationDate) {
				return userA.registrationDate - userB.registrationDate;
			}
			return userA.requestedAmount - userB.requestedAmount;
		}

		function sortUsers(users) {
			return users.sort(usersComparator);
		}

		function perforSort() {
			var users = sortUsers([
				{ id: 2, active: false, registrationDate: new Date(2016, 11, 1), requestedAmount: 10000 },
				{ id: 1, active: false, registrationDate: new Date(2016, 10, 15), requestedAmount: 5000 },
				{ id: 3, active: true, registrationDate: new Date(2016, 10, 14), requestedAmount: 5000 },
				{ id: 5, active: true, registrationDate: new Date(2017, 0, 2), requestedAmount: 5000 },
				{ id: 4, active: true, registrationDate: new Date(2016, 10, 14), requestedAmount: 5500 },
			])
			var res = '';
			for (var i = 0; i < users.length; ++i) {
				res += ' ' + users[i].id;
			}
			document.getElementById('sortingOutput').innerHTML = res;
		}
	</script>
</head>

<body>
	<h2>Fix our sorting function</h2>
	<p id='sortingOutput'>= = = = =</p>
	<button type='button' onclick='perforSort()'>Sort</button>
</body>

</html>